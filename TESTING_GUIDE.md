# ðŸ§ª SoundMate AR æ¸¬è©¦æŒ‡å—

## ðŸ“‹ æ¸¬è©¦å‰ç½®æ¢ä»¶æª¢æŸ¥æ¸…å–®

### 1. ç’°å¢ƒè¨­å®š
- [ ] PostgreSQL è³‡æ–™åº«å·²å®‰è£ä¸¦é‹è¡Œ
- [ ] Node.js å’Œ npm å·²å®‰è£
- [ ] Expo CLI å·²å®‰è£ (`npm install -g @expo/cli`)
- [ ] å¾Œç«¯ `.env` æª”æ¡ˆå·²è¨­å®š

### 2. è³‡æ–™åº«è¨­å®š
```bash
# ç¢ºèª PostgreSQL é‹è¡Œ
pg_isready

# æª¢æŸ¥è³‡æ–™åº«é·ç§»ç‹€æ…‹
cd backend && npm run db:status

# å¦‚æžœéœ€è¦ï¼ŒåŸ·è¡Œé·ç§»
npm run migrate
```

### 3. ä¾è³´å®‰è£
```bash
# å¾Œç«¯ä¾è³´
cd backend && npm install

# å‰ç«¯ä¾è³´  
cd ../frontend && npm install --legacy-peer-deps
```

## ðŸš€ æ¸¬è©¦æ­¥é©Ÿ

### ç¬¬ä¸€æ­¥ï¼šå¾Œç«¯æœå‹™æ¸¬è©¦

1. **å•Ÿå‹•å¾Œç«¯æœå‹™**
```bash
cd backend
npm run dev
```

2. **é©—è­‰åŸºæœ¬ API**
```bash
# å¥åº·æª¢æŸ¥
curl http://localhost:5000/health

# æ ¹ç«¯é»ž
curl http://localhost:5000/
```

3. **æ¸¬è©¦åœ°åœ– API (ä½¿ç”¨æ¨¡æ“¬é‚Šç•Œ)**
```bash
# æ¸¬è©¦å…­é‚Šå½¢æŸ¥è©¢
curl "http://localhost:5000/api/map/hexagons?north=25.04&south=25.02&east=121.58&west=121.55"
```

### ç¬¬äºŒæ­¥ï¼šéŸ³æ¨‚ç‰¹å¾µæœå‹™æ¸¬è©¦

```bash
# åœ¨ backend ç›®éŒ„åŸ·è¡Œ
npm test -- --testPathPatterns=musicFeatures
```

**é æœŸçµæžœï¼š** 14 å€‹æ¸¬è©¦å…¨éƒ¨é€šéŽ

### ç¬¬ä¸‰æ­¥ï¼šå‰ç«¯æ‡‰ç”¨æ¸¬è©¦

1. **å•Ÿå‹•å‰ç«¯æ‡‰ç”¨**
```bash
cd frontend
npm start
```

2. **é¸æ“‡æ¸¬è©¦å¹³å°**
   - Web: æŒ‰ `w` é–‹å•Ÿç€è¦½å™¨ç‰ˆæœ¬
   - iOS æ¨¡æ“¬å™¨: æŒ‰ `i` (éœ€è¦ Xcode)
   - Android æ¨¡æ“¬å™¨: æŒ‰ `a` (éœ€è¦ Android Studio)

### ç¬¬å››æ­¥ï¼šåœ°åœ–è¦–è¦ºåŒ–åŠŸèƒ½æ¸¬è©¦

1. **é–‹å•ŸæŽ¢ç´¢é é¢**
   - å°Žèˆªåˆ° "Explore" æ¨™ç±¤
   - ç¢ºèªåœ°åœ–æ­£ç¢ºè¼‰å…¥

2. **æ¸¬è©¦ä½ç½®æ¬Šé™**
   - å…è¨±ä½ç½®æ¬Šé™
   - ç¢ºèªåœ°åœ–å®šä½åˆ°ç•¶å‰ä½ç½®

3. **æ¸¬è©¦å…­é‚Šå½¢é¡¯ç¤º**
   - è§€å¯Ÿåœ°åœ–ä¸Šçš„å½©è‰²å…­é‚Šå½¢
   - æ‡‰è©²çœ‹åˆ° 15 å€‹æ¸¬è©¦å…­é‚Šå½¢ï¼ˆæ¨¡æ“¬è³‡æ–™ï¼‰

4. **æ¸¬è©¦äº’å‹•åŠŸèƒ½**
   - é»žæ“Šä»»æ„å…­é‚Šå½¢
   - ç¢ºèªå½ˆå‡º Modal é¡¯ç¤ºéŸ³æ¨‚è³‡è¨Š
   - æª¢æŸ¥çµ±è¨ˆæ•¸æ“šå’Œæ­Œæ›²åˆ—è¡¨

## ðŸ” è©³ç´°æ¸¬è©¦æ¡ˆä¾‹

### A. éŸ³æ¨‚ç‰¹å¾µè‰²å½©æ˜ å°„æ¸¬è©¦

**æ¸¬è©¦ç›®æ¨™ï¼š** é©—è­‰éŸ³æ¨‚ç‰¹å¾µæ­£ç¢ºè½‰æ›ç‚ºé¡è‰²

```javascript
// åœ¨ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ä¸­åŸ·è¡Œ
const testFeatures = {
  energy: 0.8,    // é«˜èƒ½é‡
  valence: 0.7,   // å¿«æ¨‚
  danceability: 0.9,  // å¯èˆžè¹ˆ
  acousticness: 0.1   // é›»å­
};

console.log('æ‡‰è©²ç”¢ç”Ÿç´…è‰²ç³»è‰²å½©');
```

**é æœŸçµæžœï¼š** é«˜èƒ½é‡æ­Œæ›²ç”¢ç”Ÿç´…/æ©˜è‰²ç³»è‰²å½©

### B. åœ°åœ–æ•ˆèƒ½æ¸¬è©¦

**æ¸¬è©¦ç›®æ¨™ï¼š** ç¢ºèªåœ°åœ–æ¸²æŸ“æ•ˆèƒ½

1. é–‹å•Ÿç€è¦½å™¨é–‹ç™¼è€…å·¥å…· > Console
2. æŸ¥çœ‹æ•ˆèƒ½æ—¥èªŒï¼š
   - `âš¡ åœ°åœ–æ¸²æŸ“: XXms (15 å€‹å…­é‚Šå½¢)`
   - æ¸²æŸ“æ™‚é–“æ‡‰ < 100ms

3. æ¸¬è©¦åœ°åœ–æ“ä½œï¼š
   - ç¸®æ”¾åœ°åœ–
   - æ‹–æ‹½åœ°åœ–
   - è§€å¯Ÿæ•ˆèƒ½æŒ‡æ¨™

### C. API æ•´åˆæ¸¬è©¦

**æ¸¬è©¦ç›®æ¨™ï¼š** é©—è­‰å‰å¾Œç«¯è³‡æ–™æµ

1. **æ¨¡æ“¬æ’­æ”¾è¨˜éŒ„** (éœ€è¦æœ‰æ•ˆçš„ Spotify token)
```bash
curl -X POST http://localhost:5000/api/music/playback \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_SPOTIFY_TOKEN" \
  -d '{
    "track_data": {
      "spotify_track_id": "test_track_123",
      "name": "æ¸¬è©¦æ­Œæ›²",
      "artist": "æ¸¬è©¦è—äºº",
      "album": "æ¸¬è©¦å°ˆè¼¯",
      "duration_ms": 180000,
      "is_playing": true,
      "progress_ms": 30000
    },
    "location": {
      "lat": 25.0330,
      "lng": 121.5654
    },
    "hex_id": "891f1d4a5afffff"
  }'
```

2. **æª¢æŸ¥èšåˆæœå‹™**
   - æŸ¥çœ‹ä¼ºæœå™¨æ—¥èªŒä¸­çš„èšåˆæ›´æ–°è¨Šæ¯
   - ç¢ºèª hex é¡è‰²è¨ˆç®—æ­£ç¢º

## âš ï¸ å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

### å•é¡Œ 1: è³‡æ–™åº«é€£ç·šå¤±æ•—
```
error: password authentication failed for user "postgres"
```
**è§£æ±ºæ–¹æ¡ˆï¼š**
1. æª¢æŸ¥ PostgreSQL æ˜¯å¦é‹è¡Œ
2. ç¢ºèª `.env` ä¸­çš„è³‡æ–™åº«é€£ç·šè¨­å®š
3. æª¢æŸ¥è³‡æ–™åº«ç”¨æˆ¶æ¬Šé™

### å•é¡Œ 2: å‰ç«¯ä¾è³´å®‰è£å¤±æ•—
```
ERESOLVE unable to resolve dependency tree
```
**è§£æ±ºæ–¹æ¡ˆï¼š**
```bash
npm install --legacy-peer-deps --force
```

### å•é¡Œ 3: åœ°åœ–ä¸é¡¯ç¤ºå…­é‚Šå½¢
**æª¢æŸ¥é …ç›®ï¼š**
1. å¾Œç«¯æœå‹™æ˜¯å¦é‹è¡Œ (localhost:5000)
2. ä½ç½®æ¬Šé™æ˜¯å¦å…è¨±
3. ç€è¦½å™¨ Console æ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯

### å•é¡Œ 4: H3 è¨ˆç®—éŒ¯èª¤
**æª¢æŸ¥é …ç›®ï¼š**
1. `h3-js` å¥—ä»¶æ˜¯å¦æ­£ç¢ºå®‰è£
2. ä½ç½®åº§æ¨™æ˜¯å¦æœ‰æ•ˆ
3. æŸ¥çœ‹éŒ¯èª¤æ—¥èªŒä»¥ç¢ºå®šå•é¡Œ

## ðŸ“Š æ¸¬è©¦å®Œæˆæ¨™æº–

### âœ… å¾Œç«¯æ¸¬è©¦é€šéŽæ¨™æº–
- [ ] å¥åº·æª¢æŸ¥ API å›žæ‡‰æ­£å¸¸
- [ ] åœ°åœ– API å›žå‚³æ­£ç¢ºè³‡æ–™çµæ§‹
- [ ] éŸ³æ¨‚ç‰¹å¾µæœå‹™æ¸¬è©¦å…¨éƒ¨é€šéŽ
- [ ] èšåˆæœå‹™æ­£å¸¸å•Ÿå‹•å’Œé‹è¡Œ
- [ ] ç„¡è¨˜æ†¶é«”æ´©æ¼æˆ–æ•ˆèƒ½å•é¡Œ

### âœ… å‰ç«¯æ¸¬è©¦é€šéŽæ¨™æº–  
- [ ] åœ°åœ–æ­£ç¢ºè¼‰å…¥å’Œé¡¯ç¤º
- [ ] å…­é‚Šå½¢æ­£ç¢ºæ¸²æŸ“ (æ¨¡æ“¬æˆ–çœŸå¯¦è³‡æ–™)
- [ ] é»žæ“Šäº’å‹•åŠŸèƒ½æ­£å¸¸
- [ ] ä½ç½®æ¬Šé™å’Œå®šä½åŠŸèƒ½æ­£å¸¸
- [ ] æ•ˆèƒ½æŒ‡æ¨™åœ¨å¯æŽ¥å—ç¯„åœå…§

### âœ… æ•´åˆæ¸¬è©¦é€šéŽæ¨™æº–
- [ ] å‰å¾Œç«¯è³‡æ–™æ­£ç¢ºå‚³éž
- [ ] éŸ³æ¨‚ç‰¹å¾µâ†’è‰²å½©æ˜ å°„æ­£ç¢º
- [ ] Hex èšåˆçµ±è¨ˆåŠŸèƒ½æ­£å¸¸
- [ ] éŒ¯èª¤è™•ç†å’Œå›žé€€æ©Ÿåˆ¶æœ‰æ•ˆ

## ðŸŽ¯ æ¸¬è©¦å»ºè­°

1. **é€æ­¥æ¸¬è©¦ï¼š** å…ˆæ¸¬è©¦å¾Œç«¯ï¼Œå†æ¸¬è©¦å‰ç«¯ï¼Œæœ€å¾Œæ¸¬è©¦æ•´åˆ
2. **æ—¥èªŒç›£æŽ§ï¼š** éš¨æ™‚æŸ¥çœ‹ Console å’Œä¼ºæœå™¨æ—¥èªŒ
3. **æ•ˆèƒ½é—œæ³¨ï¼š** æ³¨æ„æ¸²æŸ“æ™‚é–“å’Œè¨˜æ†¶é«”ä½¿ç”¨
4. **é‚Šç•Œæ¸¬è©¦ï¼š** æ¸¬è©¦æ¥µç«¯æƒ…æ³å’ŒéŒ¯èª¤è™•ç†

---

**æº–å‚™å¥½é–‹å§‹æ¸¬è©¦äº†å—Žï¼Ÿ** ðŸš€

æŒ‰ç…§ä¸Šè¿°æ­¥é©Ÿï¼Œæ‚¨å°±èƒ½å…¨é¢é©—è­‰ SoundMate AR åœ°åœ–è¦–è¦ºåŒ–ç³»çµ±çš„åŠŸèƒ½ï¼